<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HHYC Volunteer Portal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .auth-section {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .auth-section input {
            padding: 1rem;
            font-size: 1.1rem;
            border: none;
            border-radius: 8px;
            margin: 1rem;
            width: 200px;
            text-align: center;
        }

        .auth-section button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 1rem;
            transition: all 0.3s ease;
        }

        .auth-section button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .volunteer-interface {
            display: none;
        }

        .section {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .section h2 {
            margin-bottom: 1rem;
            color: #fff;
        }

        .event-card {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .event-card h3 {
            color: #fff;
            margin-bottom: 1rem;
        }

        .task-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .task-card {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .task-card:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .task-card h4 {
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .task-info {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .volunteer-list {
            font-size: 0.85rem;
            color: #a8e6cf;
            margin-bottom: 1rem;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .signup-form {
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            background: rgba(255,255,255,0.9);
            color: #333;
        }

        .error-message {
            color: #ff6b6b;
            font-weight: bold;
            margin-top: 1rem;
        }

        .success-message {
            color: #51cf66;
            font-weight: bold;
            margin-top: 1rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .task-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öì Hidden Harbor Yacht Club</h1>
            <p>Volunteer Portal - Join Our Community Events</p>
        </div>

        <!-- Authentication Section -->
        <div class="auth-section" id="authSection">
            <h2>üîë Volunteer Access</h2>
            <p>Please enter the gate code to access volunteer opportunities</p>
            <form id="authForm">
                <input type="password" id="gateCode" placeholder="Gate Code" required>
                <br>
                <button type="submit">Access Volunteer Portal</button>
            </form>
            <div id="authMessage"></div>
        </div>

        <!-- Volunteer Interface (Hidden until authenticated) -->
        <div class="volunteer-interface" id="volunteerInterface">
            <!-- Welcome Message -->
            <div class="section">
                <h2>üôã‚Äç‚ôÇÔ∏è Welcome, Volunteer!</h2>
                <p><strong>Thank you for your dedication to Hidden Harbor Yacht Club!</strong></p>
                <p>Choose from the available tasks below and sign up to help our community. You'll see who else is volunteering so you can coordinate with fellow members.</p>
            </div>

            <!-- Available Events -->
            <div class="section">
                <h2>üìÖ Available Events</h2>

                <div class="event-card">
                    <h3>üö§ Dock Cleanup Day</h3>
                    <p><strong>Date:</strong> Saturday, September 15, 2025</p>
                    <p><strong>Time:</strong> 8:00 AM - 4:00 PM</p>
                    <p><strong>Location:</strong> Main Harbor Area</p>
                    <p><strong>Description:</strong> Help us prepare the docks for the upcoming season. Multiple tasks available throughout the day.</p>

                    <div class="task-grid">
                        <!-- Setup Task -->
                        <div class="task-card">
                            <h4>üîß Setup Task</h4>
                            <div class="task-info">
                                <strong>Time:</strong> 7:30 AM - 8:30 AM<br>
                                <strong>Volunteers Needed:</strong> 4<br>
                                <strong>Signed Up:</strong> 2/4
                            </div>
                            <div class="volunteer-list">
                                <strong>Working with:</strong> Glenn F., Justin P.
                            </div>
                            <button class="btn" onclick="signUpForTask('setup')">Sign Up for Setup</button>
                        </div>

                        <!-- Cooking Task -->
                        <div class="task-card">
                            <h4>üç≥ Cooking Task</h4>
                            <div class="task-info">
                                <strong>Time:</strong> 10:00 AM - 1:00 PM<br>
                                <strong>Volunteers Needed:</strong> 3<br>
                                <strong>Signed Up:</strong> 1/3
                            </div>
                            <div class="volunteer-list">
                                <strong>Working with:</strong> Heather M.
                            </div>
                            <button class="btn" onclick="signUpForTask('cooking')">Sign Up for Cooking</button>
                        </div>

                        <!-- Serving Task -->
                        <div class="task-card">
                            <h4>üçΩÔ∏è Serving Task</h4>
                            <div class="task-info">
                                <strong>Time:</strong> 12:00 PM - 2:00 PM<br>
                                <strong>Volunteers Needed:</strong> 2<br>
                                <strong>Signed Up:</strong> 0/2
                            </div>
                            <div class="volunteer-list">
                                <strong>Working with:</strong> <em>Be the first to sign up!</em>
                            </div>
                            <button class="btn" onclick="signUpForTask('serving')">Sign Up for Serving</button>
                        </div>

                        <!-- Cleanup Task -->
                        <div class="task-card">
                            <h4>üßπ Cleanup Task</h4>
                            <div class="task-info">
                                <strong>Time:</strong> 3:00 PM - 4:00 PM<br>
                                <strong>Volunteers Needed:</strong> 5<br>
                                <strong>Signed Up:</strong> 1/5
                            </div>
                            <div class="volunteer-list">
                                <strong>Working with:</strong> Lloyd G.
                            </div>
                            <button class="btn" onclick="signUpForTask('cleanup')">Sign Up for Cleanup</button>
                        </div>
                    </div>
                </div>

                <!-- Future Event -->
                <div class="event-card">
                    <h3>üéâ Annual Harbor Festival</h3>
                    <p><strong>Date:</strong> Saturday, October 12, 2025</p>
                    <p><strong>Time:</strong> 10:00 AM - 6:00 PM</p>
                    <p><strong>Location:</strong> Waterfront Plaza</p>
                    <p><strong>Description:</strong> Our biggest event of the year! Help make this celebration special for our community.</p>

                    <div style="text-align: center; opacity: 0.7; padding: 2rem;">
                        <p><em>Task signups will open 30 days before the event</em></p>
                        <button class="btn" disabled>Signups Open September 12</button>
                    </div>
                </div>
            </div>

            <!-- Signup Form (Hidden by default) -->
            <div class="signup-form" id="signupForm" style="display: none;">
                <h3>üìù Task Signup Form</h3>
                <form id="volunteerSignupForm">
                    <div class="form-group">
                        <label for="volunteerName">Your Name</label>
                        <input type="text" id="volunteerName" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteerEmail">Email Address</label>
                        <input type="email" id="volunteerEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="volunteerPhone">Phone Number</label>
                        <input type="tel" id="volunteerPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="selectedTask">Selected Task</label>
                        <input type="text" id="selectedTask" readonly>
                    </div>
                    <button type="submit" class="btn">Complete Signup</button>
                    <button type="button" class="btn" onclick="cancelSignup()" style="background: #6c757d; margin-top: 0.5rem;">Cancel</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // FIXED AUTHENTICATION SYSTEM - CLIENT-SIDE
        const CORRECT_GATE_CODE = '1957';

        // Handle authentication form submission
        document.getElementById('authForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const gateCode = document.getElementById('gateCode').value;
            const messageDiv = document.getElementById('authMessage');

            if (gateCode === CORRECT_GATE_CODE) {
                // Success - show volunteer interface
                document.getElementById('authSection').style.display = 'none';
                document.getElementById('volunteerInterface').style.display = 'block';

                // Store authentication in session
                sessionStorage.setItem('hhyc_volunteer_authenticated', 'true');

                showMessage(messageDiv, 'Access granted! Welcome to the volunteer portal.', 'success');
            } else {
                // Failed authentication
                showMessage(messageDiv, 'Invalid gate code. Please try again.', 'error');
                document.getElementById('gateCode').value = '';
            }
        });

        // Check if already authenticated on page load
        window.addEventListener('load', function() {
            if (sessionStorage.getItem('hhyc_volunteer_authenticated') === 'true') {
                document.getElementById('authSection').style.display = 'none';
                document.getElementById('volunteerInterface').style.display = 'block';
            }
        });

        // Helper function to show messages
        function showMessage(container, message, type) {
            container.innerHTML = `<div class="${type}-message">${message}</div>`;
            setTimeout(() => {
                container.innerHTML = '';
            }, 5000);
        }

        // Task signup functionality
        let currentTask = '';

        function signUpForTask(taskType) {
            const taskNames = {
                'setup': 'üîß Setup Task (7:30 AM - 8:30 AM)',
                'cooking': 'üç≥ Cooking Task (10:00 AM - 1:00 PM)',
                'serving': 'üçΩÔ∏è Serving Task (12:00 PM - 2:00 PM)',
                'cleanup': 'üßπ Cleanup Task (3:00 PM - 4:00 PM)'
            };

            currentTask = taskType;
            document.getElementById('selectedTask').value = taskNames[taskType];
            document.getElementById('signupForm').style.display = 'block';

            // Scroll to form
            document.getElementById('signupForm').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }

        function cancelSignup() {
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('volunteerSignupForm').reset();
            currentTask = '';
        }

        // Handle volunteer signup form submission
        document.getElementById('volunteerSignupForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const formData = {
                name: document.getElementById('volunteerName').value,
                email: document.getElementById('volunteerEmail').value,
                phone: document.getElementById('volunteerPhone').value,
                task: currentTask,
                taskName: document.getElementById('selectedTask').value
            };

            // Demo functionality - would normally save to database
            alert(`Thank you for volunteering, ${formData.name}!\n\nYou've successfully signed up for:\n${formData.taskName}\n\nWe'll send you a confirmation email at ${formData.email} with event details and who you'll be working with.`);

            // Hide form and reset
            cancelSignup();
        });

        // Add logout functionality
        function logout() {
            sessionStorage.removeItem('hhyc_volunteer_authenticated');
            location.reload();
        }

        // Add logout button to header when authenticated
        window.addEventListener('load', function() {
            if (sessionStorage.getItem('hhyc_volunteer_authenticated') === 'true') {
                const header = document.querySelector('.header');
                header.innerHTML += '<br><button class="btn" onclick="logout()" style="margin-top: 1rem; max-width: 200px; margin-left: auto; margin-right: auto;">üö™ Logout</button>';
            }
        });
    </script>
</body>
</html>